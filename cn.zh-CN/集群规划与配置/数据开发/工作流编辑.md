# 工作流编辑 {#concept_o54_wbf_z2b .concept}

E-MapReduce 工作流支持通过 DAG 的方式并行执行大数据作业，用户可以暂停、停止、重新运行工作流，还可以在 Web UI 查看工作流的执行状态。

## 新建工作流 {#section_sjt_1cf_z2b .section}

1.  通过主账号登录[阿里云 E-MapReduce 控制台](https://emr.console.aliyun.com/console)。
2.  单击上方的数据开发页签，进入项目列表页面。
3.  单击对应项目右侧的**工作流设计**，然后单击左侧的**工作流设计**页签，进入**工作流设计**页面。
4.  在页面左侧，在需要操作的文件夹上单击右键，选择**新建工作流**。
5.  在**新建工作流**对话框中，输入工作流名称、工作流描述，选择执行集群。

    用户可以选择已经创建的且被关联到该项目的预付费和后付费EMR集群用于执行工作流，也可以通过集群模板的方式新建一个临时集群用于执行该工作流。

6.  单击**确定**。

## 编辑工作流 {#section_k4y_bcf_z2b .section}

用户可以通过拖拽方式将不同类型的作业拉到工作流编辑画布，将不同作业节点通过连线的方式指定工作流的流转。作业拖拽完成后，从控制节点处拖拽**END**组件到画布中，表示整个工作流设计完成。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/17963/155253157510925_zh-CN.png)

## 配置工作流 {#section_m4y_bcf_z2b .section}

在**工作流设计**页面的右侧，单击**配置**按钮，可以进行工作流调度配置。

-   执行集群：用户可以修改工作流的执行集群。
-   调度策略：在开启工作流调度后，时间依赖是默认必须使用的，同时您可以添加工作流依赖调度。
    -   时间调度：设置工作流调度的开始时间和结束时间，在此时间范围内，系统会根据您设置的周期执行工作流。
    -   依赖调度：从所选项目中，选择当前工作流的前续工作流。当前续工作流执行完成后，当前工作流才会被调度执行。目前依赖调度只能选择一个工作流。

## 执行工作流 {#section_p4y_bcf_z2b .section}

工作流设计和配置完成后，您可以单击右上角的**运行**按钮执行工作流。

## 查看并操作工作流实例 {#section_q4y_bcf_z2b .section}

工作流运行后，单击左侧的**运行记录**页签，可以查看工作流实例的运行状态。单击工作流实例对应的**详情**，可以查看作业实例的运行情况，也可以暂停、恢复、停止和重跑工作流实例。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/17963/155253157510926_zh-CN.png)

-   暂停工作流后：正在运行的作业节点会继续执行，但后续的作业节点不再执行，可以单击**恢复工作流**，系统将继续执行暂停作业节点之后的作业。
-   取消工作流：所有正在运行的作业节点立即停止。
-   重跑工作流实例：系统将从工作流的start节点从头开始执行工作流。

